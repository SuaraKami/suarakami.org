---
import { getLangFromUrl, useTranslations } from '@/i18n'
import { siteConfig } from '@/site.config'
import VHeader from './Header.vue'
import LinkLocal from './LinkLocal.vue'
import Logo from './Logo.astro'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<VHeader lang="en" client:idle>
  <Logo slot="logo" />
  {
    siteConfig.navigation.map((link, i) => (
      <LinkLocal href={link.to} class="group flex items-center gap-2" client:only="vue">
        <span class="font-mono text-xs tracking-wider opacity-40">{String(i + 1).padStart(2, '0')}</span>
        <span
          class={`
            text-sm font-light tracking-wide uppercase transition-opacity
            hover:opacity-50
          `}
        >
          {t(`nav.${link.code}`)}
        </span>
      </LinkLocal>
    ))
  }
</VHeader>
